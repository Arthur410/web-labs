<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/svg+xml" href="/vite.svg"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Vite + TS</title>
    <style>
        body {
            color: white;
            margin: 0;
            font-family: 'Arial', sans-serif; /* –®—Ä–∏—Ñ—Ç –¥–ª—è body */
        }

        .main-app-page {
            padding: 15px;
            width: 100%;
            height: 100vh;
            background: url('./src/assets/mainbg.jpg') center/cover no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .title {
            text-align: center;
            margin-bottom: 10px;
        }

        .form-container {
            justify-content: center;
            display: flex;
            flex-direction: column;
            padding: 15px;
            background: black;
            border: 1px solid darkred;
            -webkit-box-shadow: 0 0 5px 1px darkred;
            box-shadow: 0 0 5px 1px darkred;
        }

        .input-field {
            padding: 5px 10px;
            font-size: 12px;
            margin-bottom: 10px;
        }

        .submit-button {
            text-align: center;
            cursor: pointer;
            color: white;
            font-size: 12px;
            background: darkred;
            padding: 10px 15px;
            transition: all .2s linear;
        }

        .submit-button:hover {
            background: mediumvioletred;
        }

        .settings {
            font-size: 10px;
            background: black;
            border: .2px solid darkred;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            -webkit-box-shadow: 0 0 5px 1px darkred;
            box-shadow: 0 0 5px 1px darkred;
        }

        .arrow-container {
            display: flex;
            gap: 5px;
        }

        .arrow {
            padding: 5px;
            width: 25px;
            height: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: .1px solid maroon;
        }

        .spacer {
            margin: 5px;
        }

        #pacmanText {
            text-shadow: 0 0 5px yellow;
        }

    </style>
</head>
<body>
<div id="app">
    <main class="main-app-page">
        <h1 class="title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É <span id="pacmanText" style="color: yellow">PACMAN!</span></h1>

        <div class="spacer"></div>

        <form class="form-container">
            <input id="nameInput" placeholder="–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?" type="text" class="input-field">
            <button type="button" class="submit-button" onclick="saveAndRedirect()">–ò–≥—Ä–∞—Ç—å!</button>
        </form>

        <div class="spacer"></div>

        <div class="settings">
            <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏:</span>
            <div class="spacer"></div>
            <div class="arrow-container">
                <span class="arrow">‚Üê</span>
                <span class="arrow">‚Üí</span>
                <span class="arrow">‚Üë</span>
                <span class="arrow">‚Üì</span>
            </div>
            <div class="spacer"></div>
            <span>–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Å—Ç—ã: —Å–æ–±–∏—Ä–∞—Ç—å –º–æ–Ω–µ—Ç–∫–∏ –∏ –Ω–µ –≤—Ä–µ–∑–∞—Ç—å—Å—è –≤ <span style="color: darkred">–ø—Ä–∏–∑—Ä–∞–∫–æ–≤ üëª</span> !</span>
            <br>
            <span>–¶–µ–ª—å –∏–≥—Ä—ã —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ <span style="color: yellow">–º–æ–Ω–µ—Ç–∫–∏ üí∞</span>!</span>
        </div>
    </main>

</div>
<script type="module" src="/src/main.ts"></script>
<script>
	function changePacmanColor() {
		const pacmanText = document.getElementById('pacmanText');
		const formContainer = document.querySelector('.form-container');
		const colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF']; // –í–∞—à–∏ —Ü–≤–µ—Ç–∞

		setInterval(() => {
			const randomColor = colors[Math.floor(Math.random() * colors.length)];
			pacmanText.style.color = randomColor;
			pacmanText.style.textShadow = `0 0 5px ${randomColor}`;
		}, 1000); // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
	}

	// –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
	window.onload = changePacmanColor;
	function saveAndRedirect() {
		// –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∏–Ω–ø—É—Ç–∞
		const playerName = document.getElementById('nameInput').value;

		// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
		localStorage.setItem('playerName', playerName);

		// –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
		window.location.href = 'game.html';
	}

</script>
</body>
</html>
